# 第二十七章: 流控制: IF分支语句 #

## 27.1 使用if ##

在shell中一个简单的分支语句如下:

```
x=5
if [ $x = 5 ]; then
    echo "x equals 5."
else
    echo "x does not euqal 5."
fi
```

或者直接在命令行中如下输入:

```
x=5
if [ $x = 5 ]; then echo "equals 5."; else echo "does not equal 5"; fi
```

if语句的语法格式如下:

```
if commands; then
    commands
[elif commands; then
    commands...]
[else
    commands]
fi
```

## 27.2 退出状态 ##

命令(包括shell脚本) 在执行完毕后, 会向操作系统返回一个值, 称之为退出状态. 这个值是一个0～255的整数, 用来表示命令执行成功还是失败.
按照惯例使用0来表示执行成功, 其他数值表示执行失败. shell提供了一个可以用来检测退出状态的参数, 如下:

```
ls -d /usr/bin
echo $?
ls -d /bin/usr
echo $?
```

有些命令使用不同的退出值来诊断错误, 而许多命令在执行失败时, 只是简单的退出并发送数字1. 数字0总是表示执行成功.

shell提供了两个简单的命令, 以一个0或1退出状态来终止执行. true命令表示执行成功, false命令表示执行失败.

```
true
echo $?
false
echo $?
```

if命令根据后面的命令的执行结果来选择是否执行后续的commands. 如果if后面有一系列的命令, 那么根据最后一个命令的执行结果来进行评估.

## 27.3 使用test命令 ##

### 27.3.1 文件表达式 ###

### 27.3.2 字符串表达式 ###

### 27.3.3 整数表达式 ###

## 27.4 更现代的test命令版本 ##

## 27.5 (())-为整数设计 ##

## 27.6 组合表达式 ##

## 27.7 控制运算符: 另一种方式的分支 ##

## 27.8 本章结尾语 ##
