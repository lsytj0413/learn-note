# 第十三章: 定制提示符 #

## 13.1 提示符的分解 ##

系统默认的提示符如下:

```
soren@soren-ubuntu16:~$
```
在提示符中包含了用户名, 主机名和当前的工作目录. 提示符是由名为PS1的环境变量定义的.

shell提示符中使用的转义字符如下表:

| 转义字符 | 含义 |
|:--|:--|
| \a | ASCII铃声 |
| \d | 当前日期, 用星期, 月, 日的形式显示 |
| \h | 本地机器的主机名, 不带域名 |
| \H | 完整的主机名 |
| \j | 当前shell会话中进行的任务个数 |
| \l | 当前终端设备名称 |
| \n | 换行符 |
| \r | 回车符 |
| \s | shell程序的名称 |
| \t | 24小时制的当前时间, 格式为小时:分钟:秒 |
| \T | 12小时制的当前时间 |
| \\\@ | 12小时制的当前时间, 格式为 AM/PM |
| \A | 24小时制的当前时间, 格式为小时:分钟 |
| \u | 当前用户的用户名 |
| \v | shell版本号 |
| \V | shell的版本号和发行号 |
| \w | 当前工作目录名 |
| \W | 当前工作目录名的最后一部分 |
| \\\! | 当前命令的历史编号 |
| \\\# | 当前shell会话中输入的命令数 |
| \\\$ | 在非管理员权限下输出[$], 管理员权限下输出[#] |
| \\\[ | 标志一个或多个非打印字符序列的开始, 用于嵌入非打印的控制字符, 比如移动光标或更改文本颜色 |
| \\\] | 标志着非显示字符序列的结束 |

## 13.2 尝试设计提示符 ##

```
ps1_old="$PS1"
echo $ps1_old
PS1="\$ "
$ PS1="\A \H \$ "
12:48 soren-ubuntu16 $
PS1="<\u@\h \W>\$ "
PS1="$ps1_old"
```

## 13.3 添加颜色 ##

字符颜色是由发送到终端仿真器的一个ASNI转义代码来控制的, 该转义代码嵌入到了要显示的字符流中. 控制代码不会打印到屏幕上, 而是被终端解释为一条指令, [\\\[] 和 [\\\]] 这两个序列用来封装非打印字符串.

一个ANSI转义代码以八进制033(由转义键escape key 产生)开始, 后面跟着一个可选的字符属性, 之后是一条指令. 例如将文本颜色设置为正常(attribute=0), 黑色的代码是 \033[;30m .

设置文本颜色的转义序列如下表:

| 字符序列 | 文本颜色 |
|:--|:--|
| \033[0;30m | 黑色 |

## 13.4 移动光标 ##

## 13.5 保存提示符 ##
