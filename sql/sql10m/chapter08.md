# 第8章: 使用数据处理函数 #

## 8.1 函数 ##

SQL 可以用函数来处理数据, 函数一般执行在数据上, 为数据的转换和处理提供方便.

### 函数带来的问题 ###

每一个 DBMS 都有特定的函数, 只有少数几个函数被所有主要的 DBMS 支持.

## 8.2 使用函数 ##

大多数 SQL 支持以下类型的函数:

- 用于处理文本字符串的文本函数
- 用于在数值上进行算术操作的数值函数
- 用于处理日期和时间值并从这些值中提取特定成分的日期和时间函数
- 返回 DBMS 正使用的特殊信息的系统函数

### 8.2.1 文本处理函数 ###

常用的文本处理函数如下:

| 函数 | 说明 |
|:--|:--|
| LEFT | 返回字符串左边的字符 |
| LENGTH | 返回字符串的长度 |
| LOWER | 将字符串转换为小写 |
| LTRIM | 去掉字符串左边的空格 |
| RIGHT | 返回字符串右边的字符 |
| RTRIM | 去掉字符串右边的空格 |
| SOUNDEX | 返回字符串的 SOUNDEX 值 |
| UPPER | 将字符串转换为大写 |

- SOUNDEX 是一个将任何文本转换为描述其语音表示的字母数字模式的算法, 使得能对字符串进行发音比较

### 8.2.2 日期和时间处理函数 ###

日期和时间函数的可移植性很差, 例如查询 2012 年的所有订单:

#### MySQL ####

```
SELECT order_num FROM Orders WHERE YEAR(order_dsate) = 2012;
```

### 8.2.3 数值处理函数 ###

在主要 DBMS 的函数中, 数值处理函数是最一致, 最统一的函数. 常用的数值处理函数如下表:

| 函数 | 说明 |
|:--|:--|
| ABS | 返回一个数的绝对值 |
| COS | 返回一个角度的余弦 |
| EXP | 返回一个数的指数值 |
| PI | 返回圆周率 |
| SIN | 返回一个角度的正弦 |
| SQRT | 返回一个数的平方根 |
| TAN | 返回一个角度的正切 |

