# 第21章: 使用游标 #

## 21.1 游标 ##

SQL 检索操作返回一组称为结果集的行. 有时需要在检索出来的行中前进或后退一行或多行, 就可以使用游标. 游标是一个存储在 DBMS 服务器上的数据库查询, 是被该语句检索出来的结果集.

游标常见的选项和特性如下:

- 能够标记游标为只读
- 能控制可以执行的定向操作
- 能标记某些列为可编辑的
- 规定范围
- 指示 DBMS 对检索出的数据进行复制

## 21.2 使用游标 ##

### 21.2.1 创建游标 ###

可以使用 DECLARE 语句创建游标, 在 MySQL 中使用如下语句:

```
DECLARE CustCursor CURSOR
FOR
SELECT * FROM Customers
WHERE cust_email IS NULL;
```

### 21.2.2 使用游标 ###

使用 OPEN CURSOR 语句打开游标:

```
OPEN CURSOR CustCursor;
```

然后就可以使用 FETCH 语句访问游标数据.

### 21.2.3 关闭游标 ###

可以使用 CLOSE 语句关闭游标.
